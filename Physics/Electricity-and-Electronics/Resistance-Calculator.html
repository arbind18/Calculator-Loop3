<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resistor Calculator - Color Code & Circuit Tools</title>
    <meta name="description" content="Calculate resistor values from color codes (4, 5, 6 bands), series/parallel circuits, and wire resistance.">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #667eea;
            --secondary: #764ba2;
            --accent: #FF0080;
            --glass: rgba(255, 255, 255, 0.95);
            --text: #2d3748;
            --light-text: #718096;
            --bg: #f7fafc;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #a8c0ff 0%, #3f2b96 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 20px;
            color: var(--text);
        }

        .container {
            max-width: 900px;
            width: 100%;
            background: var(--glass);
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
            padding: 40px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        header {
            text-align: center;
            margin-bottom: 40px;
        }

        h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .subtitle {
            color: var(--light-text);
            font-size: 1.1rem;
        }

        .tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 10px 20px;
            border: 2px solid var(--primary);
            background: transparent;
            color: var(--primary);
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .tab-btn.active {
            background: var(--primary);
            color: white;
        }

        .tool-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .tool-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Resistor Visualizer */
        .resistor-visual {
            width: 100%;
            height: 120px;
            background: #e2e8f0;
            border-radius: 60px;
            position: relative;
            margin: 40px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: inset 0 4px 10px rgba(0,0,0,0.1);
        }

        .resistor-body {
            width: 80%;
            height: 80px;
            background: #f1c40f; /* Beige body */
            border-radius: 40px;
            position: relative;
            display: flex;
            justify-content: space-evenly;
            align-items: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            background: linear-gradient(to bottom, #fceabb 0%, #f8b500 50%, #fceabb 100%);
        }

        .wire {
            position: absolute;
            height: 10px;
            width: 100%;
            background: #95a5a6;
            z-index: -1;
        }

        .band {
            width: 15px;
            height: 100%;
            background: transparent;
            transition: background 0.3s;
        }

        .band-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .band-select {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        select {
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #cbd5e0;
        }

        .result-box {
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            margin-top: 20px;
        }

        .result-value {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--secondary);
        }

        /* Series/Parallel Styles */
        .circuit-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .resistor-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .resistor-item {
            background: white;
            padding: 8px 16px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .remove-resistor {
            color: #e53e3e;
            cursor: pointer;
        }

        .input-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: var(--light-text);
        }

        input {
            width: 100%;
            padding: 10px;
            border: 1px solid #cbd5e0;
            border-radius: 8px;
        }

        .btn {
            padding: 10px 20px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-top: 30px;
            color: white;
            text-decoration: none;
            font-weight: 600;
            opacity: 0.9;
            transition: opacity 0.2s;
        }

        .back-link:hover {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-microchip"></i> Resistor Calculator</h1>
            <p class="subtitle">Color codes, series/parallel circuits, and wire resistance</p>
        </header>

        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('colorcode')">Color Code</button>
            <button class="tab-btn" onclick="switchTab('circuit')">Series / Parallel</button>
            <button class="tab-btn" onclick="switchTab('wire')">Wire Resistance</button>
        </div>

        <!-- Color Code Calculator -->
        <div id="colorcode" class="tool-section active">
            <div style="text-align: center; margin-bottom: 20px;">
                <label>Number of Bands:</label>
                <select id="bandCount" onchange="updateBands()" style="width: auto; display: inline-block;">
                    <option value="4">4 Bands</option>
                    <option value="5" selected>5 Bands</option>
                    <option value="6">6 Bands</option>
                </select>
            </div>

            <div class="resistor-visual">
                <div class="wire"></div>
                <div class="resistor-body" id="resistorBody">
                    <!-- Bands injected by JS -->
                </div>
            </div>

            <div class="band-controls" id="bandControls">
                <!-- Selects injected by JS -->
            </div>

            <div class="result-box">
                <h3>Resistance Value</h3>
                <div class="result-value" id="colorResult">0 O</div>
                <div id="toleranceResult">±5%</div>
                <div id="tempCoResult" style="display: none;"></div>
            </div>
        </div>

        <!-- Series/Parallel Calculator -->
        <div id="circuit" class="tool-section">
            <div class="input-group">
                <label>Add Resistor (O)</label>
                <div style="display: flex; gap: 10px;">
                    <input type="number" id="newResistor" placeholder="e.g., 100">
                    <button class="btn" onclick="addResistor()">Add</button>
                </div>
            </div>

            <div class="resistor-list" id="resistorList">
                <!-- Resistor items -->
            </div>

            <div class="result-box">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div>
                        <h4>Series Total</h4>
                        <div class="result-value" id="seriesResult" style="font-size: 1.8rem;">0 O</div>
                        <small>R = R1 + R2 + ...</small>
                    </div>
                    <div>
                        <h4>Parallel Total</h4>
                        <div class="result-value" id="parallelResult" style="font-size: 1.8rem;">0 O</div>
                        <small>1/R = 1/R1 + 1/R2 + ...</small>
                    </div>
                </div>
            </div>
            <button class="btn" onclick="clearResistors()" style="margin-top: 20px; background: #e53e3e;">Clear All</button>
        </div>

        <!-- Wire Resistance Calculator -->
        <div id="wire" class="tool-section">
            <div class="input-group">
                <label>Material</label>
                <select id="wireMaterial" onchange="calculateWire()">
                    <option value="1.68e-8">Copper (1.68 × 10?8 O·m)</option>
                    <option value="2.82e-8">Aluminum (2.82 × 10?8 O·m)</option>
                    <option value="2.44e-8">Gold (2.44 × 10?8 O·m)</option>
                    <option value="1.59e-8">Silver (1.59 × 10?8 O·m)</option>
                    <option value="1.0e-7">Iron (1.00 × 10?7 O·m)</option>
                </select>
            </div>
            <div class="input-group">
                <label>Length (m)</label>
                <input type="number" id="wireLength" value="1" oninput="calculateWire()">
            </div>
            <div class="input-group">
                <label>Cross-sectional Area (mm²)</label>
                <input type="number" id="wireArea" value="1" oninput="calculateWire()">
            </div>

            <div class="result-box">
                <h3>Wire Resistance</h3>
                <div class="result-value" id="wireResult">0 O</div>
                <small>R = ? · L / A</small>
            </div>
        </div>

        <a href="../../Ui.html" class="back-link">
            <i class="fas fa-arrow-left"></i> Back to Calculators
        </a>
    </div>

    <script>
        // --- Color Code Logic ---
        const colors = {
            black: { val: 0, mult: 1, tol: null, temp: null, hex: '#000000', text: 'white' },
            brown: { val: 1, mult: 10, tol: 1, temp: 100, hex: '#8B4513', text: 'white' },
            red: { val: 2, mult: 100, tol: 2, temp: 50, hex: '#FF0000', text: 'white' },
            orange: { val: 3, mult: 1000, tol: null, temp: 15, hex: '#FFA500', text: 'black' },
            yellow: { val: 4, mult: 10000, tol: null, temp: 25, hex: '#FFFF00', text: 'black' },
            green: { val: 5, mult: 100000, tol: 0.5, temp: null, hex: '#008000', text: 'white' },
            blue: { val: 6, mult: 1000000, tol: 0.25, temp: 10, hex: '#0000FF', text: 'white' },
            violet: { val: 7, mult: 10000000, tol: 0.1, temp: 5, hex: '#EE82EE', text: 'black' },
            grey: { val: 8, mult: null, tol: 0.05, temp: null, hex: '#808080', text: 'white' },
            white: { val: 9, mult: null, tol: null, temp: null, hex: '#FFFFFF', text: 'black' },
            gold: { val: null, mult: 0.1, tol: 5, temp: null, hex: '#FFD700', text: 'black' },
            silver: { val: null, mult: 0.01, tol: 10, temp: null, hex: '#C0C0C0', text: 'black' }
        };

        const colorKeys = Object.keys(colors);

        function switchTab(tab) {
            document.querySelectorAll('.tool-section').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
            document.getElementById(tab).classList.add('active');
            event.target.classList.add('active');
        }

        function updateBands() {
            const count = parseInt(document.getElementById('bandCount').value);
            const controls = document.getElementById('bandControls');
            const body = document.getElementById('resistorBody');
            
            controls.innerHTML = '';
            body.innerHTML = '';

            // Generate bands
            for (let i = 0; i < count; i++) {
                let type = 'digit';
                let label = `Band ${i + 1}`;
                
                if (i === count - 1 && count === 6) type = 'temp';
                else if (i === count - 1) type = 'tol'; // Last band is tolerance (except 6 band)
                else if (i === count - 2 && count === 6) type = 'tol'; // 2nd to last is tolerance in 6 band
                else if (i === count - 2 && count !== 6) type = 'mult'; // 2nd to last is multiplier
                else if (i === count - 3 && count === 6) type = 'mult'; // 3rd to last is multiplier in 6 band
                
                // Create Select
                const div = document.createElement('div');
                div.className = 'band-select';
                div.innerHTML = `<label>${label}</label>`;
                
                const select = document.createElement('select');
                select.id = `band${i}`;
                select.onchange = () => { updateResistorColor(i); calculateColorCode(); };
                
                colorKeys.forEach(key => {
                    const c = colors[key];
                    let valid = false;
                    if (type === 'digit' && c.val !== null) valid = true;
                    if (type === 'mult' && c.mult !== null) valid = true;
                    if (type === 'tol' && c.tol !== null) valid = true;
                    if (type === 'temp' && c.temp !== null) valid = true;

                    if (valid) {
                        const opt = document.createElement('option');
                        opt.value = key;
                        opt.textContent = key.charAt(0).toUpperCase() + key.slice(1);
                        opt.style.backgroundColor = c.hex;
                        opt.style.color = c.text;
                        select.appendChild(opt);
                    }
                });
                
                // Set defaults
                if (type === 'digit' && i === 0) select.value = 'brown';
                if (type === 'digit' && i > 0) select.value = 'black';
                if (type === 'mult') select.value = 'black'; // x1
                if (type === 'tol') select.value = 'gold'; // 5%
                
                div.appendChild(select);
                controls.appendChild(div);

                // Create Visual Band
                const bandDiv = document.createElement('div');
                bandDiv.className = 'band';
                bandDiv.id = `visualBand${i}`;
                body.appendChild(bandDiv);
            }
            
            // Initial update
            for(let i=0; i<count; i++) updateResistorColor(i);
            calculateColorCode();
        }

        function updateResistorColor(index) {
            const color = document.getElementById(`band${index}`).value;
            document.getElementById(`visualBand${index}`).style.backgroundColor = colors[color].hex;
        }

        function calculateColorCode() {
            const count = parseInt(document.getElementById('bandCount').value);
            let digits = '';
            let multiplier = 1;
            let tolerance = 0;
            let tempCo = 0;

            // Get values
            for (let i = 0; i < count; i++) {
                const color = document.getElementById(`band${i}`).value;
                const c = colors[color];

                if (count === 4) {
                    if (i < 2) digits += c.val;
                    if (i === 2) multiplier = c.mult;
                    if (i === 3) tolerance = c.tol;
                } else if (count === 5) {
                    if (i < 3) digits += c.val;
                    if (i === 3) multiplier = c.mult;
                    if (i === 4) tolerance = c.tol;
                } else if (count === 6) {
                    if (i < 3) digits += c.val;
                    if (i === 3) multiplier = c.mult;
                    if (i === 4) tolerance = c.tol;
                    if (i === 5) tempCo = c.temp;
                }
            }

            const resistance = parseInt(digits) * multiplier;
            
            // Format
            let formatted = resistance;
            let unit = 'O';
            if (resistance >= 1000000) { formatted = resistance / 1000000; unit = 'MO'; }
            else if (resistance >= 1000) { formatted = resistance / 1000; unit = 'kO'; }
            
            formatted = parseFloat(formatted.toFixed(2));

            document.getElementById('colorResult').textContent = `${formatted} ${unit}`;
            document.getElementById('toleranceResult').textContent = `±${tolerance}%`;
            
            const tempDiv = document.getElementById('tempCoResult');
            if (count === 6) {
                tempDiv.style.display = 'block';
                tempDiv.textContent = `${tempCo} ppm/K`;
            } else {
                tempDiv.style.display = 'none';
            }
        }

        // --- Series/Parallel Logic ---
        let resistors = [];

        function addResistor() {
            const val = parseFloat(document.getElementById('newResistor').value);
            if (val > 0) {
                resistors.push(val);
                renderResistors();
                calculateCircuit();
                document.getElementById('newResistor').value = '';
            }
        }

        function removeResistor(index) {
            resistors.splice(index, 1);
            renderResistors();
            calculateCircuit();
        }

        function clearResistors() {
            resistors = [];
            renderResistors();
            calculateCircuit();
        }

        function renderResistors() {
            const list = document.getElementById('resistorList');
            list.innerHTML = '';
            resistors.forEach((r, i) => {
                const div = document.createElement('div');
                div.className = 'resistor-item';
                div.innerHTML = `
                    <span>${r} O</span>
                    <i class="fas fa-times remove-resistor" onclick="removeResistor(${i})"></i>
                `;
                list.appendChild(div);
            });
        }

        function calculateCircuit() {
            if (resistors.length === 0) {
                document.getElementById('seriesResult').textContent = '0 O';
                document.getElementById('parallelResult').textContent = '0 O';
                return;
            }

            // Series
            const series = resistors.reduce((a, b) => a + b, 0);
            
            // Parallel
            let parallelInv = 0;
            resistors.forEach(r => parallelInv += 1/r);
            const parallel = 1 / parallelInv;

            document.getElementById('seriesResult').textContent = formatRes(series);
            document.getElementById('parallelResult').textContent = formatRes(parallel);
        }

        function formatRes(val) {
            if (val >= 1000000) return (val/1000000).toFixed(2) + ' MO';
            if (val >= 1000) return (val/1000).toFixed(2) + ' kO';
            return val.toFixed(2) + ' O';
        }

        // --- Wire Resistance Logic ---
        function calculateWire() {
            const rho = parseFloat(document.getElementById('wireMaterial').value);
            const L = parseFloat(document.getElementById('wireLength').value);
            const A_mm2 = parseFloat(document.getElementById('wireArea').value);
            
            // Convert Area to m² (mm² to m² is 1e-6)
            const A = A_mm2 * 1e-6;

            if (A > 0) {
                const R = rho * L / A;
                document.getElementById('wireResult').textContent = formatRes(R);
            }
        }

        // Initialize
        updateBands();
    </script>
</body>
</html>

